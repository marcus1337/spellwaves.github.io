<!DOCTYPE HTML>
<!--
	Dimension by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>Spell Waves</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<noscript>
		<link rel="stylesheet" href="assets/css/noscript.css" />
	</noscript>
	<link rel="icon" href="images/favicon.png">
</head>

<body class="is-preload">

	<!-- Wrapper -->
	<div id="wrapper">

		<!-- Header -->
		<header id="header">
			<div class="logo">
				<span class="icon fa-gem"></span>
			</div>
			<div class="content">
				<div class="inner">
					<h1>Spell Waves</h1>
					<p>A free and open source wizard simulator with gesture-based VR interaction</p>
				</div>

			</div>

			<nav>
				<ul>
					<li><a href="#about" onClick="hiderFoo();">About</a></li>
					<li><a href="#challenges" onClick="hiderFoo();">Challenges</a></li>
					<li><a href="#team" onClick="hiderFoo();">Team</a></li>
					<li><a href="#gallery" onClick="hiderFoo();">Gallery</a></li>
					<li><a href="#related" onClick="hiderFoo();">Related Work</a></li>

				</ul>
			</nav>

			<div class="content">
				<br>
				<h2>Demo Reel</h2>
				<iframe width="560" height="315" src="https://www.youtube.com/embed/MkQyRIodakk" frameborder="0"
					allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
					allowfullscreen></iframe>
				<br>
				<br>
			</div>

			<div class="content">
				<p><br><a href="https://github.com/Schnigle/agi-spell-game">github.com/Schnigle/agi-spell-game</a></p>
			</div>
		</header>

		<!-- Main -->
		<div id="main">

			<!-- Intro -->
			<article id="about">
				<h2 class="major">About</h2>
				<h3>Introduction</h3>
				<p>
					Spell Waves is a project for Advanced Graphics and Interaction 2019 at KTH. It's a fun interactive
					VR experience that anyone can play regardless of previous gaming experience. The player uses their
					hand controller to draw symbols in free-air which cast different spells. For example, the player can
					use spells to teleport themselves, polymorph objects into different shapes or summon a tornado. The
					player also has access to a spellbook which automatically writes down any new spells that the player
					discovers.
				</p>
				<span class="image main"><img src="images/wandtrail.png" alt="" /></span>
				<h3>Project Goals</h3>
				<p>
					The main goal of this project has been to explore gesture-based VR interaction. We have combined
					this with a variety of physics-based spells and added enemies and objects that these can be used
					against. As a result, the basic interaction mechanics are fairly intuitive even for players that
					have never before used VR. Additionally, we have experimented with different ways of teaching the
					player game mechanics by placing small bits of game information in the virtual environment and using
					an in-game notebook to help remember any new information.
				</p>
				<p>
					The project has also provided an excellent context for exploring advanced graphic effects, physics
					interaction and video game AI programming. The graphics have been mainly focused on experimenting
					with particle systems, post-processing effects, 3D modelling and animation. We have attempted to
					implement the spellcasting functionality in a modular and extendable way which means that, from a
					developer perspective, it's quite easy to add new spells with a wide variety of effects. Since the
					project is open source it could provide a useful starting point for other developers that seek to
					extend the game or simply explore our approach to gesture-based VR interaction.
				</p>
				<span class="image main"><img src="images/blackhole.PNG" alt="" /></span>
				<h3>Technologies</h3>
				<p>
					To develop this project we have used Unity 3D as our game engine, HTC Vice for VR interaction and
					Blender for 3D modelling. Using Unity gave us a good starting point with basic graphics, physics and
					interaction functionality working out of the box. This allowed us to focus our efforts on
					implementing more project-specific features such as gesture recognition, spell implementations,
					visual effects and shaders. The Vive controllers provided excellent functionality for wand
					interaction, and the controller trackpad was useful for implementing page-turning for the in-game
					spellbook.
				</p>
				<span class="image main"><img src="images/picintro.jpg" alt="" /></span>
				<h3>User Testimonials</h3>
				<p>
					<blockquote>I could do this for hours!</blockquote>
					<blockquote>The black hole spell is really fun to use!</blockquote>
					<blockquote>Oh, so that's how you aim...</blockquote>
					- Users at the AGI demos at Tekniska Museet 2019.
				</p>
			</article>
			<!-- Gallery -->
			<article id="gallery">
				<h2 class="major">Gallery</h2>
				<h3>Images</h3>

				<!-- Maximum 4 images per row -->
				<!-- Image row 1 -->
				<div class="row">
					<div class="column">
						<img src="images/picintro.jpg" alt="Demo at ForskarFredag 2019"
							onclick="displayGalleryImage(this);">
					</div>
					<div class="column">
						<img src="images/user01.jpg" alt="Demo at KTH Open House 2019"
							onclick="displayGalleryImage(this);">
					</div>
					<div class="column">
						<img src="images/user02.jpg" alt="Demo at KTH Open House 2019 (Photo credit: Mario Romero)"
							onclick="displayGalleryImage(this);">
					</div>
					<div class="column">
						<img src="images/user03.png" alt="Demo at KTH Open House 2019 (Photo credit: Mario Romero)"
							onclick="displayGalleryImage(this);">
					</div>
				</div>

				<!-- Image row 2 -->
				<div class="row">
					<div class="column">
						<img src="images/sigma.PNG" alt="Screenshot of the player performing a gesture"
							onclick="displayGalleryImage(this);">
					</div>
					<div class="column">
						<img src="images/blackhole.PNG" alt="Screenshot of the Black Hole spell"
							onclick="displayGalleryImage(this);">
					</div>
					<div class="column">
						<img src="images/combat.PNG" alt="Screenshot of the opponent wizards"
							onclick="displayGalleryImage(this);">
					</div>
					<div class="column">
						<img src="images/DestroyerOfWorlds.PNG" alt="The destroyer of worlds"
							onclick="displayGalleryImage(this);">
					</div>
				</div>

				<!-- The expanding image container -->
				<div class="container">
					<!-- Close the image -->
					<span onclick="this.parentElement.style.display='none'" class="closebtn">&times;</span>

					<!-- Expanded image -->
					<img id="expandedImg" style="width:100%">

					<!-- Image text -->
					<div id="imgtext"></div>
				</div>

				<br>

				<!-- TODO: Include making-of documentary here -->

				<h3>Demo Reel</h3>
				<iframe style="display: block; margin:auto;;" width="100%" height="400"
					src="https://www.youtube.com/embed/MkQyRIodakk" frameborder="0"
					allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
					allowfullscreen></iframe>

			</article>

			<!-- Team -->
			<article id="team">
				<h2 class="major">Team</h2>
				<br>
				<div style="text-align: center;">
					<div style="display: inline-block;">
						<div class="user"><img src="images/marc.jpg" alt="" width="100" height="121">
							<div class="user-name">Marcus Andersson</div>
							<div>
								<a href="mailto:and8@kth.se" class="email">and8@kth.se</a> </a>
								<br>
								VFX
								<br>
								Particle animations
								<br>
								Website
							</div>
						</div>

						<div class="user"><img src="images/diego.png" alt="" width="100" height="121">
							<div class="user-name">Diego Catalan Canales</div>
							<div>
								<a href="mailto:and8@kth.se" class="email">diegocc@kth.se</a> </a>
								<br>
								VFX
								<br>
								Particle animations
								<br>
							</div>
						</div>

						<div class="user"><img src="images/henrik.jpg" alt="" width="100" height="121">
							<div class="user-name">Henrik A. Glass</div>
							<div>
								<a href="mailto:hglass@kth.se" class="email">hglass@kth.se</a> </a>
								<br>
								Gesture Recognition
								<br>
								Audio
							</div>
						</div>

						<div class="user"><img src="images/tomas.jpg" alt="" width="100" height="121">
							<div class="user-name">Tomas Andersson</div>
							<div>
								<a href="mailto:tomas3@kth.se" class="email">tomas3@kth.se</a> </a>
								<br>
								Enemy AI
								<br>
								Spellbook interaction
								<br>
								3D models
								<br>
								VFX
							</div>
						</div>

					</div>
				</div>

				<div class="content">
					<h3>Additional credits</h3>
					<p>
						<ul>
							<li><a href="https://github.com/SquirrelyJones/DarkAndStormy">Dark and Stormy</a> by Mike V.
							</li>
							<!-- TODO: add any other third party resources -->
						</ul>
					</p>
				</div>

			</article>

			<!-- Challenges -->
			<article id="challenges">
				<h2 class="major">Challenges</h2>
				<h3>Obstacles</h3>
				<p>
					The greatest challenge during this project has been implementing the gesture recognition. More
					specifically, we constrained the problem to recognizing specific symbols drawn in front of the
					viewport. Some significant sources of uncertainty include symbol position, size, drawing speed and
					noise - both from the user's imperfect drawing and from the occasionally unstable VR controller
					tracking.
				</p>
				<span class="image main"><img src="images/ins1.jpg" alt="" /></span>
				<p>
					We settled for an approach based on converting the world-space coordinates of the symbols into a
					more convenient coordinate space and then dividing the transformed points into multiple line
					components. While the problem could possibly be solved using machine learning methods, we did not
					have time or the necessary data to do this.
				</p>
				<p>
					Another problem during development was that the team only had limited access to the VR equipment,
					which we shared with multiple other course project groups at KTH. We therefore implemented a basic
					VR control emulator that allowed us to test most of the features without using mouse and keyboard.
					The emulator was limited to testing 2-dimensional gestures, but this didn't matter much for us as we
					only implemented quite simple 3-dimensional gestures.
				</p>
				<h3>Lessons learned</h3>
				<p>
					The emulator was incredibly useful for speeding up the development of most parts of the project. As
					such, we regret not implementing it earlier. That said, it's also important to double-check all
					features with an actual VR headset as there are subtle differences that may not be apparent until
					you try the full game in VR.
				</p>
				<p>
					We have also significantly advanced our skills in collaborative development. Following suitable
					version control policies is vital for minimizing the time spent resolving merge conflicts and fixing
					bugs. The project started out quite chaotic in this regard but improved over time.
				</p>
				<p>
					A final takeaway from this project is that you should always be careful about adding unnecessary
					complexity to your game - especially if the user won't have time to explore that complexity. We
					designed the game so that the players was slowly introduced to new features by exploring the game
					and experimenting. However, at the conventions we needed to constrain each user's demo session to
					1-3 minutes to process the queues quicker, while our design was mainly intended for 15-30 minute
					demo sessions. We therefore had to skip many of the introductory features during the demos.
				</p>
				<span class="image main"><img src="images/spellbookturn.PNG" alt="" /></span>

			</article>

			<!-- Related -->
			<article id="related">
				<h2 class="major">Related Work</h2>

				<h3>uWave</h3>
				<p>
					<a href="https://www.recg.org/publications/liu08uwave.pdf">uWave: Accelerometer-based Personalized
						Gesture Recognition</a> is a gesture recognition algorithm for simple personalized gestures
					using an accelerometer, such as a VR controller. While it achieves a high accuracy, the gesture
					vocabulary it's tested on is quite small and it requires a large number of gesture samples during
					training.
				</p>
				<h3>AirSig</h3>
				<p>
					<a href="http://www.airsig.com/vr/index.htm">AirSig</a> is a personalized VR gesture recognition
					library for Unity 3D. We considered using the AirSig library for this project, but chose to
					implement the gesture recognition algorithms ourselves to increase our own learning.
				</p>
				<h3>PointyStick</h3>
				<p>
					<a href="https://pointystickblog.wordpress.com/">PointyStick</a> is a previous course project from
					AGI16 which also deals with VR gesture recognition. While thematically similar, PointyStick has
					constrained the problem to distinguishing 2 different line gestures, while our project supports a
					wider variety.
				</p>
			</article>
		</div>

		<!-- Footer -->
		<footer id="footer">
			<p class="copyright">&copy; AGI19P1. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
		</footer>
	</div>

	<script>

		function displayGalleryImage(imgs) {
			// Get the expanded image
			var expandImg = document.getElementById("expandedImg");
			// Get the image text
			var imgText = document.getElementById("imgtext");
			// Use the same src in the expanded image as the image being clicked on from the grid
			expandImg.src = imgs.src;
			// Use the value of the alt attribute of the clickable image as text inside the expanded image
			imgText.innerHTML = imgs.alt;
			// Show the container element (hidden with CSS)
			expandImg.parentElement.style.display = "block";
		}

		function hiderFoo() {
			document.getElementById("myFrame").style.display = "none";
			document.getElementById("myHeader").style.display = "none";
			document.getElementById("br1").style.display = "none";
			document.getElementById("br2").style.display = "none";
			document.getElementById("br3").style.display = "none";
		}

		function loadCheck() {
			var iframe = document.getElementById("myFrame");
			var custHead = document.getElementById("myHeader");

			var pathArray = window.location.pathname.split('/');
			var nowLoc = window.location.href;

			if (nowLoc == "https://marcus1337.github.io/spellwaves.github.io/#") {
				document.getElementById("myFrame").style.display = "block";
				document.getElementById("myHeader").style.display = "block";
				document.getElementById("br1").style.display = "block";
				document.getElementById("br2").style.display = "block";
				document.getElementById("br3").style.display = "block";
			}
		}
		loadCheck();

	</script>

	<!-- BG -->
	<div id="bg"></div>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>

</body>

</html>